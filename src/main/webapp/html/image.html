<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <script type="text/javascript" src="../js/jquery/jquery-3.2.1.js"></script>

    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="../css/style.css">
    <script type="text/javascript">
        $(function () {
            $.ajax({
                url: "../image/getBase64Image",
                type: "GET"
            }).then(function (data) {
                $("#image1").attr("src", data);

            });

            loadImage("../images/10.png",function (img) {
                $("#preloadImg").attr("src", img.src);
            });

        });
        //实现图片的预加载
        function preloadImg(srcArr){
            if(srcArr instanceof Array){
                for(var i=0; i<srcArr.length; i++){
                    var oImg = new Image();
                    oImg.src = srcArr[i];
                }
            }
        }

        function loadImage(url, callback) {
            var img = new Image(); //创建一个Image对象，实现图片的预下载
            img.onload = function(){
                img.onload = null;
                callback(img);
            };
            img.src = url;
        }
    </script>
</head>
<body>
<div>
    <img id="image2" src="../image/getImageBody" style="width: 100px;height: 100px;"/>
    <img id="image" src="../image/getImage" style="width: 50px;height: 50px;"/>
    <img id="image1" style="width: 50px;height: 50px;"/>

    <img id="preloadImg" style="width: 50px;height: 50px;"/>
</div>


</body>
</html>
