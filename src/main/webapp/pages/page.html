<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link href="../css/common.css" rel="stylesheet"/>
    <link href="../js/pagination/pager.css" rel="stylesheet"/>
    <link href="../js/pagination/pagination.css" rel="stylesheet"/>
    <link href="../js/pagination/mricode.pagination.css" rel="stylesheet"/>
    <script type="text/javascript" src="../js/jquery/jquery-3.2.1.js"></script>
    <script type="text/javascript" src="../js/pagination/jqPagination.js"></script>
    <!--<script type="text/javascript" src="../js/pagination/jquery.pagination.js"></script>-->
    <script type="text/javascript" src="../js/pagination/mricode.pagination.js"></script>

    <script type="text/javascript">
        $(function () {
            $('#pager').jqPagination({
                remote: {
                    url: "../page/getPage",
                    pageSize: 1,
                    paginationClass: "M-box",
                    showJump: true,
                    searchParam: {
                        a: 1
                    },
                    beforeSend: function () {
                    },
                    success: function (data) {
                        /*
                         *返回的数据根据自己需要处理
                         */
                        var tableStr = "<tr><td>Id</td><td>姓名</td><td>年龄</td></tr>";
                        $.each(data.data, function (i, v) {
                            tableStr += "<tr><td>" + v.name + "</td><td>" + v.china + "</td><td>" + v.type + "</td></tr>";
                        });

                        $('#dataTable').html(tableStr);
                    },
                    complete: function () {
                    }
                }
            });
/*            $('#pager').pagination({
                callback: function (api) {
                    rendHtml(api);
                }
            }, function (api) {
                rendHtml(api);
            });
            $('#pager').pagination({
                pageSize:1,
                total: 1000,
                remote:{
                    url: '../page/getPage',
                    success: function (data) {
                        var tableStr = "<tr><td>Id</td><td>姓名</td><td>年龄</td></tr>";
                        $.each(data.data, function (i, v) {
                            tableStr += "<tr><td>" + v.name + "</td><td>" + v.china + "</td><td>" + v.type + "</td></tr>";
                        });
                        $('#dataTable').html(tableStr);
                    },
                    totalName:'total'
                }
            });*/
        });
        function rendHtml(pagination) {
            var index = pagination.getCurrent();
            $.ajax({
                url: "../page/getPage",
                type: "POST",
                dataType: "JSON",
                data: {pageIndex: index, pageSize: 1}
            }).then(function (data) {
                var tableStr = "<tr><td>Id</td><td>姓名</td><td>年龄</td></tr>";
                $.each(data.data, function (i, v) {
                    tableStr += "<tr><td>" + v.name + "</td><td>" + v.china + "</td><td>" + v.type + "</td></tr>";
                });

                $('#dataTable').html(tableStr);
            })
        }
    </script>
</head>
<body>

<table id="dataTable" border="1" style="width: 100%"></table>
<br/>
<div id="pager"></div>
</body>
</html>
